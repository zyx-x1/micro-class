{"version":3,"sources":["webpack:///./node_modules/core-js/modules/_string-pad.js","webpack:///./node_modules/core-js/modules/_string-repeat.js","webpack:///./src/views/Message/message.vue","webpack:///src/views/Message/message.vue","webpack:///./src/views/Message/message.vue?3176","webpack:///./src/views/Message/message.vue?cc11","webpack:///./src/views/Message/message.vue?11e7","webpack:///./src/utils/index.js","webpack:///./node_modules/core-js/modules/es7.string.pad-start.js"],"names":["toLength","repeat","defined","module","exports","that","maxLength","fillString","left","S","String","stringLength","length","fillStr","undefined","intMaxLength","fillLen","stringFiller","call","Math","ceil","slice","toInteger","count","str","this","res","n","Infinity","RangeError","render","_vm","_c","_self","attrs","messages","staticClass","_e","_l","filter","message","type","item","index","key","_v","_s","content","_class_title","date","is_read","on","$event","readMessage","id","_sender","avatar","username","$router","push","class_id","staticRenderFns","data","baseUrl","methods","getMessages","params","user","el","checkLogin","mounted","component","formatTime","timeObj","Date","y","getFullYear","m","getMonth","d","getDate","hh","getHours","toString","padStart","mm","getMinutes","ss","getSeconds","msg","getVideoCover","url","Promise","resolve","dataURL","video","document","createElement","setAttribute","addEventListener","canvas","width","height","getContext","drawImage","toDataURL","$export","$pad","userAgent","WEBKIT_BUG","test","P","F","arguments"],"mappings":"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","file":"static/js/chunk-4a6d343a.2ceb4ca1.js","sourcesContent":["// https://github.com/tc39/proposal-string-pad-start-end\nvar toLength = require('./_to-length');\nvar repeat = require('./_string-repeat');\nvar defined = require('./_defined');\n\nmodule.exports = function (that, maxLength, fillString, left) {\n  var S = String(defined(that));\n  var stringLength = S.length;\n  var fillStr = fillString === undefined ? ' ' : String(fillString);\n  var intMaxLength = toLength(maxLength);\n  if (intMaxLength <= stringLength || fillStr == '') return S;\n  var fillLen = intMaxLength - stringLength;\n  var stringFiller = repeat.call(fillStr, Math.ceil(fillLen / fillStr.length));\n  if (stringFiller.length > fillLen) stringFiller = stringFiller.slice(0, fillLen);\n  return left ? stringFiller + S : S + stringFiller;\n};\n","'use strict';\nvar toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n\nmodule.exports = function repeat(count) {\n  var str = String(defined(this));\n  var res = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError(\"Count can't be negative\");\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) res += str;\n  return res;\n};\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"wrap\"}},[_c('div',{attrs:{\"id\":\"message\"}},[(_vm.messages.length == 0)?_c('div',{staticClass:\"empty\"},[_c('el-empty',{attrs:{\"description\":\"没有收到消息，空空如也~\"}})],1):_vm._e(),_c('div',{attrs:{\"id\":\"main\"}},[_c('div',{staticClass:\"items\"},[_vm._l((_vm.messages.filter(\n            (message) => message.type == 'audit'\n          )),function(item,index){return _c('div',{key:index,staticClass:\"item\"},[_c('div',{staticClass:\"avatar\"}),_c('div',{staticClass:\"body\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"微课审核通知\")]),_c('div',{staticClass:\"content-container\"},[_c('div',{staticClass:\"content\"},[_vm._v(\"\\n                \"+_vm._s(item.content)+\"\\n              \")]),_c('span',{staticClass:\"class-title\"},[_vm._v(\"\\n                \"+_vm._s(item._class_title)+\"\\n              \")])]),_c('div',{staticClass:\"date\"},[_vm._v(\"\\n              \"+_vm._s(item.date)+\"\\n            \")])]),_c('div',{staticClass:\"read\"},[(item.is_read != 1)?_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.readMessage(item.id)}}},[_vm._v(\"设为已读\")]):_c('div',{staticClass:\"readed\",attrs:{\"aria-disabled\":\"true\"}},[_c('i',{staticClass:\"el-icon-check\"}),_vm._v(\" 已读\\n            \")])],1)])}),_vm._l((_vm.messages.filter(\n            (message) => message.type == 'comment'\n          )),function(item,index){return _c('div',{key:index,staticClass:\"item\"},[_c('div',{staticClass:\"avatar\"},[_c('img',{attrs:{\"src\":item._sender.avatar,\"alt\":\"\",\"srcset\":\"\"}})]),_c('div',{staticClass:\"body\"},[_c('div',{staticClass:\"title\"},[_c('span',{staticClass:\"sender-name\"},[_vm._v(_vm._s(item._sender.username))]),_vm._v(\"\\n              回复了我的评论\\n            \")]),_c('div',{staticClass:\"content-container\"},[_c('div',{staticClass:\"content\"},[_vm._v(\"\\n                \"+_vm._s(item.content)+\"\\n              \")]),_c('span',{staticClass:\"class-title\",on:{\"click\":function($event){return _vm.$router.push(`/detail/${item.class_id}`)}}},[_vm._v(\"\\n                \"+_vm._s(item._class_title)+\"\\n              \")])]),_c('div',{staticClass:\"date\"},[_vm._v(\"\\n              \"+_vm._s(item.date)+\"\\n            \")])]),_c('div',{staticClass:\"read\"},[(item.is_read != 1)?_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.readMessage(item.id)}}},[_vm._v(\"设为已读\")]):_c('div',{staticClass:\"readed\",attrs:{\"aria-disabled\":\"true\"}},[_c('i',{staticClass:\"el-icon-check\"}),_vm._v(\" 已读\\n            \")])],1)])})],2)])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"wrap\">\n    <div id=\"message\">\n      <!-- {{ this.messages }} -->\n      <div class=\"empty\" v-if=\"messages.length == 0\">\n        <el-empty description=\"没有收到消息，空空如也~\"></el-empty>\n      </div>\n      <div id=\"main\">\n        <div class=\"items\">\n          <div\n            class=\"item\"\n            v-for=\"(item, index) in messages.filter(\n              (message) => message.type == 'audit'\n            )\"\n            :key=\"index\"\n          >\n            <div class=\"avatar\">\n              <!-- <img src=\"null\" alt=\"\" srcset=\"\" /> -->\n            </div>\n            <div class=\"body\">\n              <div class=\"title\">微课审核通知</div>\n              <div class=\"content-container\">\n                <div class=\"content\">\n                  {{ item.content }}\n                </div>\n                <span class=\"class-title\">\n                  {{ item._class_title }}\n                </span>\n              </div>\n\n              <div class=\"date\">\n                {{ item.date }}\n              </div>\n            </div>\n            <div class=\"read\">\n              <el-button\n                v-if=\"item.is_read != 1\"\n                size=\"small\"\n                @click=\"readMessage(item.id)\"\n                >设为已读</el-button\n              >\n              <div class=\"readed\" v-else aria-disabled=\"true\">\n                <i class=\"el-icon-check\"></i> 已读\n              </div>\n            </div>\n          </div>\n          <div\n            class=\"item\"\n            v-for=\"(item, index) in messages.filter(\n              (message) => message.type == 'comment'\n            )\"\n            :key=\"index\"\n          >\n            <div class=\"avatar\">\n              <img :src=\"item._sender.avatar\" alt=\"\" srcset=\"\" />\n            </div>\n            <div class=\"body\">\n              <div class=\"title\">\n                <span class=\"sender-name\">{{ item._sender.username }}</span>\n                回复了我的评论\n              </div>\n              <div class=\"content-container\">\n                <div class=\"content\">\n                  {{ item.content }}\n                </div>\n                <span\n                  class=\"class-title\"\n                  @click=\"$router.push(`/detail/${item.class_id}`)\"\n                >\n                  {{ item._class_title }}\n                </span>\n              </div>\n\n              <div class=\"date\">\n                {{ item.date }}\n              </div>\n            </div>\n            <div class=\"read\">\n              <el-button\n                v-if=\"item.is_read != 1\"\n                size=\"small\"\n                @click=\"readMessage(item.id)\"\n                >设为已读</el-button\n              >\n              <div class=\"readed\" v-else aria-disabled=\"true\">\n                <i class=\"el-icon-check\"></i> 已读\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { formatTime } from \"../../utils/index\";\nexport default {\n  data() {\n    return {\n      baseUrl: this.$store.state.baseUrl,\n      messages: [],\n    };\n  },\n  methods: {\n    async getMessages() {\n      let res = await this.axios.get(`${this.baseUrl}/message/get`, {\n        params: {\n          user: this.$store.state.loginCredentials.email,\n        },\n      });\n      if (res.data.status == \"success\") {\n        this.messages = res.data.data.map((el) => {\n          el.date = formatTime(el.date);\n          return el;\n        });\n      }\n    },\n    async readMessage(id) {\n      let res = await this.axios.get(`${this.baseUrl}/message/read`, {\n        params: {\n          id,\n        },\n      });\n      if (res.data.status == \"success\") {\n        this.getMessages();\n      }\n    },\n    checkLogin() {\n      let status = this.$store.state.loginCredentials.status;\n      if (!status) this.$router.push(\"/login\");\n    },\n  },\n  mounted() {\n    this.getMessages();\n    this.checkLogin();\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n#wrap {\n  background-color: rgba(0, 0, 0, 0.1);\n  padding-bottom: 50px;\n\n  #message {\n    background-color: #fff;\n    width: 1000px;\n    height: calc(100vh - 170px);\n    margin: 0 auto;\n    padding: 20px;\n    padding-top: 100px;\n    overflow-y: auto;\n    box-shadow: 0 0 15px 1px #90bbeb;\n    border-radius: 10px;\n\n    #main {\n      .items {\n        .item {\n          display: flex;\n          height: 120px;\n          display: flex;\n\n          .avatar {\n            width: 100px;\n            height: 100%;\n            position: relative;\n\n            img {\n              width: 50px;\n              height: 50px;\n              position: absolute;\n              left: 50%;\n              top: 50%;\n              transform: translate(-50%, -50%);\n              border-radius: 50%;\n            }\n          }\n\n          .body {\n            width: calc(100% - 120px);\n            height: calc(100% - 20px);\n            border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n            text-align: left;\n            padding: 10px;\n            display: flex;\n            flex-direction: column;\n            justify-content: space-between;\n\n            .title {\n              .sender-name {\n                font-weight: bold;\n              }\n            }\n\n            .content-container {\n              .content {\n                font-size: 16px;\n                margin-bottom: 5px;\n              }\n\n              .class-title {\n                font-size: 12px;\n                color: rgba(0, 0, 0, 0.5);\n                border-left: 2px solid rgba(0, 0, 0, 0.1);\n                padding-left: 5px;\n                cursor: pointer;\n                transition: 0.5s;\n\n                &:hover {\n                  color: #90bbeb;\n                }\n              }\n            }\n          }\n\n          .read {\n            width: 100px;\n            display: flex;\n            align-content: center;\n            align-items: center;\n\n            .el-button {\n              border-radius: 15px;\n            }\n\n            .readed {\n              cursor: default;\n              background-color: rgba(0, 0, 0, 0.1);\n              padding: 8px 15px;\n              border-radius: 20px;\n              color: #90bbeb;\n              font-size: 14px;\n            }\n          }\n        }\n      }\n    }\n  }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./message.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./message.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./message.vue?vue&type=template&id=9d18ac62&scoped=true&\"\nimport script from \"./message.vue?vue&type=script&lang=js&\"\nexport * from \"./message.vue?vue&type=script&lang=js&\"\nimport style0 from \"./message.vue?vue&type=style&index=0&id=9d18ac62&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9d18ac62\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./message.vue?vue&type=style&index=0&id=9d18ac62&prod&lang=less&scoped=true&\"","export const formatTime = (timeObj) => {\n  timeObj = new Date(timeObj);\n  if (timeObj instanceof Date) {\n    let y = timeObj.getFullYear();\n    let m = timeObj.getMonth() + 1;\n    let d = timeObj.getDate();\n    let hh = timeObj.getHours().toString().padStart(2, \"0\");\n    let mm = timeObj.getMinutes().toString().padStart(2, \"0\");\n    let ss = timeObj.getSeconds().toString().padStart(2, \"0\");\n    return `${y}-${m}-${d} ${hh}:${mm}:${ss}`;\n  } else {\n    return {\n      msg: \"参数不是日期对象\",\n    };\n  }\n};\nexport const getVideoCover = (url) => {\n  return new Promise(function (resolve) {\n    let dataURL = '';\n    let video = document.createElement(\"video\");\n    video.setAttribute('crossOrigin', 'anonymous');//处理跨域\n    video.setAttribute('src', url);\n    video.setAttribute('width', 400);\n    video.setAttribute('height', 240);\n    video.setAttribute('muted', \"muted\");\n    video.setAttribute('autoplay', 'autoplay');\n    video.addEventListener('canplaythrough', function () {\n      let canvas = document.createElement(\"canvas\"),\n        width = video.width, //canvas的尺寸和图片一样\n        height = video.height;\n      canvas.width = width;\n      canvas.height = height;\n      canvas.getContext(\"2d\").drawImage(video, 0, 0, width, height); //绘制canvas\n      dataURL = canvas.toDataURL('image/jpeg'); //转换为base64\n      resolve(dataURL);\n    });\n  })\n}\n","'use strict';\n// https://github.com/tc39/proposal-string-pad-start-end\nvar $export = require('./_export');\nvar $pad = require('./_string-pad');\nvar userAgent = require('./_user-agent');\n\n// https://github.com/zloirock/core-js/issues/280\nvar WEBKIT_BUG = /Version\\/10\\.\\d+(\\.\\d+)?( Mobile\\/\\w+)? Safari\\//.test(userAgent);\n\n$export($export.P + $export.F * WEBKIT_BUG, 'String', {\n  padStart: function padStart(maxLength /* , fillString = ' ' */) {\n    return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, true);\n  }\n});\n"],"sourceRoot":""}